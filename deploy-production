#!/bin/bash
# ğŸŒŸ Deploy to Production - Just run: ./deploy-production

echo "ğŸŒŸ DEPLOYING TO PRODUCTION"
echo "=========================="

cd /home/ib/trading-dashboard-dev

# Warning message
echo "âš ï¸  WARNING: This will deploy to LIVE website!"
echo "ğŸŒ Site: https://murdochfoo.github.io/trading-dashboard-public/"
echo ""
read -p "Are you sure? Type 'yes' to continue: " -r
echo ""

if [[ ! $REPLY =~ ^[Yy][Ee][Ss]$ ]]; then
    echo "âŒ Deployment cancelled"
    exit 1
fi

# Merge staging to main
echo "ğŸ”„ Merging staging â†’ main (production)..."
git checkout staging
git pull origin staging

git checkout main
git pull origin main
git merge staging

# Push to production
git push origin main

echo ""
echo "ğŸ‰ DEPLOYED TO PRODUCTION!"
echo "================================"
echo "ğŸŒŸ Your site is live at:"
echo "   https://murdochfoo.github.io/trading-dashboard-public/"
echo ""
echo "ğŸ§ª GitHub Actions will:"
echo "   - Run full test suite"
echo "   - Security scan"
echo "   - Deploy to GitHub Pages"
echo "   - Verify deployment"
echo ""
echo "â° Changes will be live in ~2-3 minutes"