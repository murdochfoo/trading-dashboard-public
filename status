#!/bin/bash
# ðŸ“Š Check Status - Just run: ./status

echo "ðŸ“Š DEVELOPMENT STATUS"
echo "===================="

cd /home/ib/trading-dashboard-dev

# Current branch
current_branch=$(git branch --show-current)
echo "ðŸŒ¿ Current branch: $current_branch"

# Uncommitted changes
if ! git diff --quiet || ! git diff --cached --quiet; then
    echo "ðŸ“ Uncommitted changes: YES"
    echo "   Run './save \"your message\"' to save them"
else
    echo "ðŸ“ Uncommitted changes: NO"
fi

# Status with upstream
git fetch origin --quiet
echo ""

# Development status
dev_ahead=$(git rev-list --count origin/development..development 2>/dev/null || echo "0")
dev_behind=$(git rev-list --count development..origin/development 2>/dev/null || echo "0")
echo "ðŸš€ Development branch:"
echo "   Ahead by: $dev_ahead commits"
echo "   Behind by: $dev_behind commits"

# Staging status
staging_ahead=$(git rev-list --count origin/staging..origin/development 2>/dev/null || echo "0")
echo "ðŸš¦ Staging needs: $staging_ahead commits from development"

# Production status
main_ahead=$(git rev-list --count origin/main..origin/staging 2>/dev/null || echo "0")
echo "ðŸŒŸ Production needs: $main_ahead commits from staging"

echo ""
echo "ðŸ“‹ QUICK COMMANDS:"
echo "   ./dev                 - Start development server"
echo "   ./save \"message\"      - Save your changes"
echo "   ./deploy              - Deploy to staging"
echo "   ./deploy-production   - Deploy to production"
echo "   ./help                - Show all commands"