#!/bin/bash
# ðŸš€ Deploy to Staging - Just run: ./deploy

echo "ðŸš€ DEPLOYING TO STAGING"
echo "======================="

cd /home/ib/trading-dashboard-dev

# Make sure we're on development branch
git checkout development

# Push to development branch (triggers CI tests)
echo "ðŸ“¤ Pushing changes to GitHub..."
git push origin development

# Check if there are any differences with staging
if git diff --quiet development origin/staging 2>/dev/null; then
    echo "âœ… No new changes to deploy"
    exit 0
fi

echo ""
echo "âœ… Changes pushed to development branch!"
echo "ðŸ§ª GitHub Actions will run tests automatically"
echo ""
echo "ðŸ“‹ NEXT STEPS:"
echo "1. Go to: https://github.com/murdochfoo/trading-dashboard-public"
echo "2. Click 'Pull requests' tab"
echo "3. Click 'New pull request'"
echo "4. Select: development â†’ staging"
echo "5. Click 'Create pull request'"
echo "6. Wait for tests to pass âœ…"
echo "7. Click 'Merge pull request'"
echo ""
echo "ðŸŽ¯ Or just run: ./deploy-staging"